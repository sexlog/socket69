{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/adapters/adapter.js","src/adapters/socket-cluster.js","src/provider.js","src/socket69.js","src/util/noop.js","src/util/ucfirst.js"],"names":[],"mappings":"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","file":"socket69.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import {noop} from '../util/noop';\nimport {ucfirst} from '../util/ucfirst';\n\nexport class Adapter {\n\n    constructor(config) {\n\n        /**\n         * Connection configuration\n         * @type {*}\n         */\n        this.config = config;\n\n        /**\n         * Socket's connection instance\n         * @type {null}\n         */\n        this.socket = null;\n\n        /**\n         * Required parameters for connection\n         * @type {Array}\n         */\n        this.requiredOptions = [];\n\n        /**\n         *\n         * @type {noop}\n         */\n        this.on = noop;\n\n        /**\n         *\n         * @type {[*]}\n         */\n        this.events = [\n            'error',\n            'connect',\n            'disconnect',\n            'subscribe'\n        ];\n    }\n\n    connect(options) {\n        this.requiredOptions.forEach(option => {\n            if (!options[option]) {\n                throw new Error(`Required parameter \"${option}\" not found`);\n            }\n        });\n    }\n\n    disconnect() {\n\n    }\n\n    subscribe() {\n\n    }\n\n    addListeners() {\n        this.events.forEach(event => {\n            this.socket.on(event, () => {\n                event = ucfirst(event, 'on');\n                this[event].apply(this, arguments);\n            });\n        })\n    }\n\n    onConnect(data) {\n        this.on('connect', data);\n    }\n\n    onError(data) {\n        this.on('error', data);\n    }\n}","import {Adapter} from './adapter';\n// import {Promise} from 'es6-promise';\n\nexport class SocketClusterAdapter extends Adapter {\n\n    /**\n     *\n     * @param config\n     */\n    constructor(config) {\n\n        // SocketCluster is required\n        if (!window.socketCluster) {\n            throw new ReferenceError('SocketCluster not found');\n        }\n\n        super(config);\n\n        this.requiredOptions = ['hostname', 'port'];\n    }\n\n    /**\n     *\n     * @param options\n     */\n    connect(options) {\n\n        options = Object.assign({}, this.config, options);\n\n        super.connect(options);\n\n        this.socket = window.socketCluster.connect(options);\n\n        this.socket.on('connect', (data) => {\n            this.onConnect(data);\n        });\n        this.socket.on('error', (data) => {\n            this.onError(data);\n        });\n    }\n}","import {SocketClusterAdapter} from './adapters/socket-cluster';\n\nexport class Provider {\n\n    /**\n     *\n     * @param name\n     * @param options\n     */\n    constructor(name, options) {\n\n        /**\n         *\n         * @type {{socket-cluster: SocketClusterAdapter}}\n         */\n        const list = {\n            'socket-cluster': SocketClusterAdapter\n        };\n\n        return new list[name](options);\n    }\n}","import {Provider} from './provider';\nimport {noop} from './util/noop';\nimport {ucfirst} from './util/ucfirst';\n\nexport class Socket69 {\n\n    constructor(provider, options) {\n\n        /**\n         *\n         * @type {Provider}\n         * @private\n         */\n        this._provider = new Provider(provider, options);\n\n        this._provider.on = (eventName, data) => {\n            this.on(eventName, data);\n        };\n\n        /**\n         *\n         * @type {null}\n         */\n        this.onConnect = noop;\n    }\n\n    connect(options = {}) {\n        return this._provider.connect(options);\n    }\n\n    on(eventName, data) {\n        eventName = ucfirst(eventName, 'on');\n        this[eventName].apply(this, [data]);\n    }\n}\n\nwindow.Socket69 = Socket69;\n\nif (typeof define === 'function' && define.amd) {\n    define([], function() {\n        return Socket69;\n    });\n}","export function noop() {\n}","export function ucfirst(string, prefix = '') {\n    return prefix + string.charAt(0).toUpperCase() + string.substr(1);\n}"],"preExisting":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvYWRhcHRlcnMvYWRhcHRlci5qcyIsInNyYy9hZGFwdGVycy9zb2NrZXQtY2x1c3Rlci5qcyIsInNyYy9wcm92aWRlci5qcyIsInNyYy9zb2NrZXQ2OS5qcyIsInNyYy91dGlsL25vb3AuanMiLCJzcmMvdXRpbC91Y2ZpcnN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7O0FDQUE7O0FBQ0E7Ozs7SUFFYSxPLFdBQUEsTztBQUVULHFCQUFZLE1BQVosRUFBb0I7QUFBQTs7QUFFaEI7Ozs7QUFJQSxhQUFLLE1BQUwsR0FBYyxNQUFkOztBQUVBOzs7O0FBSUEsYUFBSyxNQUFMLEdBQWMsSUFBZDs7QUFFQTs7OztBQUlBLGFBQUssZUFBTCxHQUF1QixFQUF2Qjs7QUFFQTs7OztBQUlBLGFBQUssRUFBTDs7QUFFQTs7OztBQUlBLGFBQUssTUFBTCxHQUFjLENBQ1YsT0FEVSxFQUVWLFNBRlUsRUFHVixZQUhVLEVBSVYsV0FKVSxDQUFkO0FBTUg7Ozs7Z0NBRU8sTyxFQUFTO0FBQ2IsaUJBQUssZUFBTCxDQUFxQixPQUFyQixDQUE2QixrQkFBVTtBQUNuQyxvQkFBSSxDQUFDLFFBQVEsTUFBUixDQUFMLEVBQXNCO0FBQ2xCLDBCQUFNLElBQUksS0FBSiwwQkFBaUMsTUFBakMsaUJBQU47QUFDSDtBQUNKLGFBSkQ7QUFLSDs7O3FDQUVZLENBRVo7OztvQ0FFVyxDQUVYOzs7dUNBRWM7QUFBQTtBQUFBOztBQUNYLGlCQUFLLE1BQUwsQ0FBWSxPQUFaLENBQW9CLGlCQUFTO0FBQ3pCLHNCQUFLLE1BQUwsQ0FBWSxFQUFaLENBQWUsS0FBZixFQUFzQixZQUFNO0FBQ3hCLDRCQUFRLHNCQUFRLEtBQVIsRUFBZSxJQUFmLENBQVI7QUFDQSwwQkFBSyxLQUFMLEVBQVksS0FBWjtBQUNILGlCQUhEO0FBSUgsYUFMRDtBQU1IOzs7a0NBRVMsSSxFQUFNO0FBQ1osaUJB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IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiaW1wb3J0IHtub29wfSBmcm9tICcuLi91dGlsL25vb3AnO1xuaW1wb3J0IHt1Y2ZpcnN0fSBmcm9tICcuLi91dGlsL3VjZmlyc3QnO1xuXG5leHBvcnQgY2xhc3MgQWRhcHRlciB7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29ubmVjdGlvbiBjb25maWd1cmF0aW9uXG4gICAgICAgICAqIEB0eXBlIHsqfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNvY2tldCdzIGNvbm5lY3Rpb24gaW5zdGFuY2VcbiAgICAgICAgICogQHR5cGUge251bGx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNvY2tldCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcXVpcmVkIHBhcmFtZXRlcnMgZm9yIGNvbm5lY3Rpb25cbiAgICAgICAgICogQHR5cGUge0FycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXF1aXJlZE9wdGlvbnMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge25vb3B9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uID0gbm9vcDtcblxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge1sqXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXZlbnRzID0gW1xuICAgICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICAgICdjb25uZWN0JyxcbiAgICAgICAgICAgICdkaXNjb25uZWN0JyxcbiAgICAgICAgICAgICdzdWJzY3JpYmUnXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgY29ubmVjdChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMucmVxdWlyZWRPcHRpb25zLmZvckVhY2gob3B0aW9uID0+IHtcbiAgICAgICAgICAgIGlmICghb3B0aW9uc1tvcHRpb25dKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBSZXF1aXJlZCBwYXJhbWV0ZXIgXCIke29wdGlvbn1cIiBub3QgZm91bmRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZGlzY29ubmVjdCgpIHtcblxuICAgIH1cblxuICAgIHN1YnNjcmliZSgpIHtcblxuICAgIH1cblxuICAgIGFkZExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5ldmVudHMuZm9yRWFjaChldmVudCA9PiB7XG4gICAgICAgICAgICB0aGlzLnNvY2tldC5vbihldmVudCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gdWNmaXJzdChldmVudCwgJ29uJyk7XG4gICAgICAgICAgICAgICAgdGhpc1tldmVudF0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIG9uQ29ubmVjdChkYXRhKSB7XG4gICAgICAgIHRoaXMub24oJ2Nvbm5lY3QnLCBkYXRhKTtcbiAgICB9XG5cbiAgICBvbkVycm9yKGRhdGEpIHtcbiAgICAgICAgdGhpcy5vbignZXJyb3InLCBkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IHtBZGFwdGVyfSBmcm9tICcuL2FkYXB0ZXInO1xuLy8gaW1wb3J0IHtQcm9taXNlfSBmcm9tICdlczYtcHJvbWlzZSc7XG5cbmV4cG9ydCBjbGFzcyBTb2NrZXRDbHVzdGVyQWRhcHRlciBleHRlbmRzIEFkYXB0ZXIge1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29uZmlnXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG5cbiAgICAgICAgLy8gU29ja2V0Q2x1c3RlciBpcyByZXF1aXJlZFxuICAgICAgICBpZiAoIXdpbmRvdy5zb2NrZXRDbHVzdGVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoJ1NvY2tldENsdXN0ZXIgbm90IGZvdW5kJyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlcihjb25maWcpO1xuXG4gICAgICAgIHRoaXMucmVxdWlyZWRPcHRpb25zID0gWydob3N0bmFtZScsICdwb3J0J107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIGNvbm5lY3Qob3B0aW9ucykge1xuXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmNvbmZpZywgb3B0aW9ucyk7XG5cbiAgICAgICAgc3VwZXIuY29ubmVjdChvcHRpb25zKTtcblxuICAgICAgICB0aGlzLnNvY2tldCA9IHdpbmRvdy5zb2NrZXRDbHVzdGVyLmNvbm5lY3Qob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5zb2NrZXQub24oJ2Nvbm5lY3QnLCAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbkNvbm5lY3QoZGF0YSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNvY2tldC5vbignZXJyb3InLCAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbkVycm9yKGRhdGEpO1xuICAgICAgICB9KTtcbiAgICB9XG59IiwiaW1wb3J0IHtTb2NrZXRDbHVzdGVyQWRhcHRlcn0gZnJvbSAnLi9hZGFwdGVycy9zb2NrZXQtY2x1c3Rlcic7XG5cbmV4cG9ydCBjbGFzcyBQcm92aWRlciB7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBvcHRpb25zKSB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHt7c29ja2V0LWNsdXN0ZXI6IFNvY2tldENsdXN0ZXJBZGFwdGVyfX1cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGxpc3QgPSB7XG4gICAgICAgICAgICAnc29ja2V0LWNsdXN0ZXInOiBTb2NrZXRDbHVzdGVyQWRhcHRlclxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBuZXcgbGlzdFtuYW1lXShvcHRpb25zKTtcbiAgICB9XG59IiwiaW1wb3J0IHtQcm92aWRlcn0gZnJvbSAnLi9wcm92aWRlcic7XG5pbXBvcnQge25vb3B9IGZyb20gJy4vdXRpbC9ub29wJztcbmltcG9ydCB7dWNmaXJzdH0gZnJvbSAnLi91dGlsL3VjZmlyc3QnO1xuXG5leHBvcnQgY2xhc3MgU29ja2V0Njkge1xuXG4gICAgY29uc3RydWN0b3IocHJvdmlkZXIsIG9wdGlvbnMpIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge1Byb3ZpZGVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcHJvdmlkZXIgPSBuZXcgUHJvdmlkZXIocHJvdmlkZXIsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX3Byb3ZpZGVyLm9uID0gKGV2ZW50TmFtZSwgZGF0YSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbihldmVudE5hbWUsIGRhdGEpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7bnVsbH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Db25uZWN0ID0gbm9vcDtcbiAgICB9XG5cbiAgICBjb25uZWN0KG9wdGlvbnMgPSB7fSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJvdmlkZXIuY29ubmVjdChvcHRpb25zKTtcbiAgICB9XG5cbiAgICBvbihldmVudE5hbWUsIGRhdGEpIHtcbiAgICAgICAgZXZlbnROYW1lID0gdWNmaXJzdChldmVudE5hbWUsICdvbicpO1xuICAgICAgICB0aGlzW2V2ZW50TmFtZV0uYXBwbHkodGhpcywgW2RhdGFdKTtcbiAgICB9XG59XG5cbndpbmRvdy5Tb2NrZXQ2OSA9IFNvY2tldDY5O1xuXG5pZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFNvY2tldDY5O1xuICAgIH0pO1xufSIsImV4cG9ydCBmdW5jdGlvbiBub29wKCkge1xufSIsImV4cG9ydCBmdW5jdGlvbiB1Y2ZpcnN0KHN0cmluZywgcHJlZml4ID0gJycpIHtcbiAgICByZXR1cm4gcHJlZml4ICsgc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnN1YnN0cigxKTtcbn0iXX0="}